!function(undefined){function renderChildren(n,i,t){for(var e=0;e<t.length&&!t[e].render(i,n);e++);}function evalLoc(){R.go(window.location.href.split("#")[1]||"")}var N=Nutmeg;for(var key in N)eval("var "+key+"=N[key]");var R=N.router=function(){body.clear(),window.onpopstate=function(n){evalLoc()},subs=arguments,evalLoc()};R.eval=evalLoc;var URLvars;R.go=function(n){""===n&&(n="/"),URLvars={},renderChildren(n,body(),subs)},N.link=function(n){return div().onclick(function(){var i=0===n.length?window.location.href.split("#")[0]:"#/"+n;window.history.pushState(n,"",i),evalLoc()})},N.sub=function(n){function i(){eachArg(arguments,function(n){i.subs.push(n)})}return i.subs=[],i.subpath=n,modifiers.forEach(function(n){i[n[0]]=function(){return n[1].apply(i,arguments),i}}),i.render=function(n,i){var t=this.subs,e=!1,r=function(r){e=!0;var s=this.view,o=this.transition;s!==undefined&&("function"==typeof s&&(s=s(URLvars)),o!==undefined?o(n,s):n(s));var u=i.split(RegExp(this.subpath+"(.)"))[1],a=this.fill||n;renderChildren(u,a,t)}.bind(this),s=i.split("/")[1];if(this.subpath===undefined)r(i);else{var o=i.slice(s.length+1);index=i.indexOf(this.subpath),""===this.subpath&&""===i||this.subpath===s?r(o):":"===this.subpath[0]&&(URLvars[this.subpath.slice(1)]=s,r(o))}return e},i};var modifiers=["fill","transition","view"].map(function(n){return[n,function(i){this[n]=i}]})}();